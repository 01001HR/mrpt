//------------------------------------------------------------
// Config file for the "ICP-SLAM" application
//
//              ~ The MRPT Library ~
//          Jose Luis Blanco Claraco (C) 2005-2008
//------------------------------------------------------------



//=======================================================
// Section: [ICP]
//  Parameters of ICP inside the ICP-based SLAM class
//=======================================================
[ICP]
// The maximum number of iterations to execute if convergence is not achieved before
maxIterations=60 
// Initial maximum distance for matching a pair of points
thresholdDist=0.4
// An angular factor (in degrees) to increase the matching distance for distant points.
thresholdAng_DEG=5
// After convergence, the thresholds are multiplied by this constant and ICP keep running (provides finer matching)
ALFA=0.50 
// This is the smallest the distance threshold can become after stopping ICP and accepting the result.
smallestThresholdDist=0.10
// 1: Use the closest points only, 0: Use all the correspondences within the threshold (more robust sometimes, but slower)
onlyClosestCorrespondences=1

// 0: icpClassic
// 1: icpLevenbergMarquardt
// 2: icpIKF
ICP_algorithm = 0


//=======================================================
// Section: [MappingApplication]
// Use: Here comes global parameters for the app.
//=======================================================
[MappingApplication]
// The source file (RAW-LOG) with action/observation pairs
rawlog_file=D:\MAPIR\PCB-designs\eNoses\DATASET\Dataset Patrolbot - Enose\dataset_patrolbot_2010_02_11_weno.rawlog
rawlog_offset=0

// The directory where the log files will be saved (left in blank if no log is required)
logOutput_dir=LOG_ICP-SLAM
LOG_FREQUENCY=50			// The frequency of log files generation:
SAVE_3D_SCENE=1
SAVE_POSE_LOG=0
CAMERA_3DSCENE_FOLLOWS_ROBOT=1
SHOW_PROGRESS_3D_REAL_TIME=1

SHOW_PROGRESS_3D_REAL_TIME_DELAY_MS=5

insertionLinDistance=0.1	// The distance threshold for inserting observations in the map (meters)
insertionAngDistance=10.0	// The distance threshold for inserting observations in the map (degrees)


// ====================================================
//
//            MULTIMETRIC MAP CONFIGURATION
//
// ====================================================
// Creation of maps:
occupancyGrid_count=0
gasGrid_count=1
landmarksMap_count=0
beaconMap_count=0
pointsMap_count=1

// Selection of map for likelihood: (fuseAll=-1,occGrid=0, points=1,landmarks=2,gasGrid=3)
likelihoodMapSelection=-1


// ====================================================
//   MULTIMETRIC MAP: PointsMap #00
// ====================================================
// Creation Options for PointsMap 00:
[MappingApplication_pointsMap_00_insertOpts]
minDistBetweenLaserPoints=0.05
fuseWithExisting=1
isPlanarMap=1


// ====================================================
//   MULTIMETRIC MAP: GasMap #00
// ====================================================
// Creation Options for CGasConcentrationGridMap2D 00:
[MappingApplication_gasGrid_00_creationOpts]
mapType=2   // 0: mrAchin, 1: mrKalman  - See CGasConcentrationGridMap2D::CGasConcentrationGridMap2D
min_x=-2
max_x=4
min_y=-2
max_y=2
resolution=0.20

// Insertion Options for CGasConcentrationGridMap2D 00:
[MappingApplication_gasGrid_00_insertOpts]
sigma=0.10   		// The sigma of the "Parzen"-kernel Gaussian. 
cutoffRadius=0.30 	// The cutoff radius for updating cells. 
R_min=0 			// Limits for normalization of sensor readings. 
R_max=5

KF_covSigma=0.45		// [KF model] The "sigma" for the initial covariance value between cells (in meters). 
KF_initialCellStd=1.0 	// [KF model] The initial standard deviation of each cell's concentration (will be stored both at each cell's structure and in the covariance matrix as variances in the diagonal) (in normalized concentration units). 
KF_observationModelNoise=0.25 	// [KF model] The sensor model noise (in normalized concentration units). 
KF_defaultCellMeanValue=0.25 	
KF_W_size=10

